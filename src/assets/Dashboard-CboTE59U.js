import{i as b}from"./index-u3wYLQ4o.js";import{_ as D,r as f,g as O,c as C,o as v,b as e,w as t,e as s,F as R,h as S,n as A,a as o,i as L,j as N,t as c,f as i}from"./index-Buf9oVIw.js";const E={class:"dashboard-container"},F={class:"card-content"},M={class:"info"},j={class:"value"},G={class:"title"},I={class:"card-header"},U={class:"card-header"},W={__name:"Dashboard",setup(X){const y=f("week"),h=f(null),g=f(null),k=[{title:"监测点总数",value:"150",icon:"Location",type:"primary"},{title:"在线设备",value:"150",icon:"Monitor",type:"success"},{title:"当前预警",value:"8",icon:"Warning",type:"danger"},{title:"正常运行",value:"142",icon:"CircleCheck",type:"info"}],x=[{time:"2025-04-11 15:23:45",location:"监测点A-12",type:"一级预警",value:"25mv",threshold:"20mv",status:"未处理"},{time:"2025-04-11 14:56:32",location:"监测点B-05",type:"二级预警",value:"18mv",threshold:"15mv",status:"已处理"},{time:"2025-04-11 13:45:21",location:"监测点C-08",type:"三级预警",value:"14mv",threshold:"10mv",status:"已处理"}],z=d=>({位移预警:"danger",速度预警:"warning",加速度预警:"warning"})[d]||"info";return O(()=>{const d=b(h.value),a={tooltip:{trigger:"axis"},legend:{data:["正常","轻微异常","严重异常"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:["周一","周二","周三","周四","周五","周六","周日"]},yAxis:{type:"value"},series:[{name:"正常",type:"line",stack:"Total",data:[120,140,145,115,130,150,150],areaStyle:{},emphasis:{focus:"series"}},{name:"轻微异常",type:"line",stack:"Total",data:[5,8,7,9,6,8,7],areaStyle:{},emphasis:{focus:"series"}},{name:"严重异常",type:"line",stack:"Total",data:[2,1,3,2,1,2,1],areaStyle:{},emphasis:{focus:"series"}}]};d.setOption(a);const p=b(g.value),n={tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},color:["#ff4d4f","#faad14","#52c41a"],series:[{name:"预警分布",type:"pie",radius:"50%",data:[{value:1,name:"一级预警"},{value:2,name:"二级预警"},{value:7,name:"三级预警"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};p.setOption(n),window.addEventListener("resize",()=>{d.resize(),p.resize()})}),(d,a)=>{const p=s("el-icon"),n=s("el-card"),u=s("el-col"),_=s("el-row"),m=s("el-radio-button"),B=s("el-radio-group"),T=s("el-button"),r=s("el-table-column"),w=s("el-tag"),V=s("el-table");return v(),C("div",E,[e(_,{gutter:20},{default:t(()=>[(v(),C(R,null,S(k,l=>e(u,{span:6,key:l.title},{default:t(()=>[e(n,{class:A(["overview-card",l.type])},{default:t(()=>[o("div",F,[e(p,{class:"icon",size:32},{default:t(()=>[(v(),L(N(l.icon)))]),_:2},1024),o("div",M,[o("div",j,c(l.value),1),o("div",G,c(l.title),1)])])]),_:2},1032,["class"])]),_:2},1024)),64))]),_:1}),e(_,{gutter:20},{default:t(()=>[e(u,{span:16},{default:t(()=>[e(n,{class:"chart-card"},{header:t(()=>[o("div",I,[a[4]||(a[4]=o("span",null,"监测点状态",-1)),e(B,{modelValue:y.value,"onUpdate:modelValue":a[0]||(a[0]=l=>y.value=l),size:"small"},{default:t(()=>[e(m,{label:"week"},{default:t(()=>a[1]||(a[1]=[i("近一周")])),_:1}),e(m,{label:"month"},{default:t(()=>a[2]||(a[2]=[i("近一月")])),_:1}),e(m,{label:"year"},{default:t(()=>a[3]||(a[3]=[i("近一年")])),_:1})]),_:1},8,["modelValue"])])]),default:t(()=>[o("div",{class:"chart",ref_key:"trendChartRef",ref:h},null,512)]),_:1})]),_:1}),e(u,{span:8},{default:t(()=>[e(n,{class:"chart-card"},{header:t(()=>a[5]||(a[5]=[o("div",{class:"card-header"},[o("span",null,"预警分布")],-1)])),default:t(()=>[o("div",{class:"chart",ref_key:"pieChartRef",ref:g},null,512)]),_:1})]),_:1})]),_:1}),e(_,{gutter:20},{default:t(()=>[e(u,{span:24},{default:t(()=>[e(n,null,{header:t(()=>[o("div",U,[a[7]||(a[7]=o("span",null,"最近预警记录",-1)),e(T,{type:"primary",size:"small"},{default:t(()=>a[6]||(a[6]=[i("查看全部")])),_:1})])]),default:t(()=>[e(V,{data:x,style:{width:"100%"}},{default:t(()=>[e(r,{prop:"time",label:"时间",width:"180"}),e(r,{prop:"location",label:"监测点位",width:"150"}),e(r,{prop:"type",label:"预警类型",width:"150"},{default:t(l=>[e(w,{type:z(l.row.type)},{default:t(()=>[i(c(l.row.type),1)]),_:2},1032,["type"])]),_:1}),e(r,{prop:"value",label:"监测值",width:"150"}),e(r,{prop:"threshold",label:"阈值",width:"150"}),e(r,{prop:"status",label:"处理状态"},{default:t(l=>[e(w,{type:l.row.status==="已处理"?"success":"warning"},{default:t(()=>[i(c(l.row.status),1)]),_:2},1032,["type"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}},J=D(W,[["__scopeId","data-v-42172f62"]]);export{J as default};
